{
  "widgets": [
    {
      "type": "metric",
      "properties": {
        "metrics": [
          ["AWS/ApiGateway", "Latency", {"stat": "p50", "label": "p50"}],
          [".", "Latency", {"stat": "p95", "label": "p95"}],
          [".", "Latency", {"stat": "p99", "label": "p99"}]
        ],
        "period": 300,
        "stat": "Average",
        "region": "us-east-1",
        "title": "API Latency (Percentiles)",
        "yAxis": {
          "left": {"min": 0, "label": "ms"}
        }
      }
    },
    {
      "type": "metric",
      "properties": {
        "metrics": [
          ["AWS/ApiGateway", "Count", {"stat": "Sum", "label": "Total Requests"}],
          [".", "4XXError", {"stat": "Sum", "label": "4XX Errors"}],
          [".", "5XXError", {"stat": "Sum", "label": "5XX Errors"}]
        ],
        "period": 300,
        "stat": "Sum",
        "region": "us-east-1",
        "title": "API Request Count & Errors",
        "yAxis": {
          "left": {"min": 0}
        }
      }
    },
    {
      "type": "metric",
      "properties": {
        "metrics": [
          ["AWS/ApiGateway", "4XXError", {"stat": "Sum"}],
          [".", "5XXError", {"stat": "Sum"}],
          [".", "Count", {"stat": "Sum"}]
        ],
        "period": 300,
        "stat": "Sum",
        "region": "us-east-1",
        "title": "API Error Rate (%)",
        "annotations": {
          "horizontal": [
            {
              "value": 1,
              "label": "1% Error Threshold",
              "color": "#ff9900"
            },
            {
              "value": 0.5,
              "label": "0.5% Error Threshold",
              "color": "#ff0000"
            }
          ]
        },
        "yAxis": {
          "left": {"min": 0, "max": 100, "label": "Percentage"}
        }
      }
    },
    {
      "type": "metric",
      "properties": {
        "metrics": [
          ["AWS/ApplicationELB", "TargetResponseTime", {"stat": "p50", "label": "p50"}],
          [".", "TargetResponseTime", {"stat": "p95", "label": "p95"}],
          [".", "TargetResponseTime", {"stat": "p99", "label": "p99"}]
        ],
        "period": 300,
        "stat": "Average",
        "region": "us-east-1",
        "title": "Application Response Time",
        "yAxis": {
          "left": {"min": 0, "label": "seconds"}
        }
      }
    },
    {
      "type": "metric",
      "properties": {
        "metrics": [
          ["AWS/ApiGateway", "CacheHitCount", {"stat": "Sum"}],
          [".", "CacheMissCount", {"stat": "Sum"}]
        ],
        "period": 300,
        "stat": "Sum",
        "region": "us-east-1",
        "title": "API Cache Performance",
        "yAxis": {
          "left": {"min": 0}
        }
      }
    }
  ]
}

